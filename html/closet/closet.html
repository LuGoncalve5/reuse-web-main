<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>ReUse</title>
    <link rel="stylesheet" href="closet.css">
    <link rel="stylesheet" href="../../css/padrao.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <script type="module" src="insercao_gavetas/closet.js"></script>
</head>
<body>
    
    <!-- ===== SIDEBAR ===== -->
    <div class="sidebar">
        <img class="logo" src="../../img/logoreuse.png">
        <a href="../closet/closet.html"><i class="bi bi-house-door"></i><span>Meu Closet</span></a> <!-- mudar para uma casinha -->
        <a href="../pesquisa/pesquisa.html"><i class="bi bi-search"></i><span>Pesquisa</span></a>
        <a href="../cadastro closet/cadastro peca/cadastroPeca.html"><i class="bi bi-plus-square"></i><span>Novo cadastro</span></a>
        <a href="../doacao/doacoes.html"><i class="bi bi-gift"></i><span>Doações</span></a>
        <a href="../meu perfil/mp_cpf_venda.html"><i class="bi bi-person"></i><span>Meu Perfil</span></a>
    </div>

    <!-- ===== CONTEÚDO PRINCIPAL ===== -->
    <div class="content">
        <div class="topbar-container">
            <div><h1>Meu Closet</h1></div>
            <div class="botoes">
                <input class="form-control" type="search" placeholder="Pesquisar por gaveta" aria-label="Pesquisar" style="padding-left: 32px; border-radius: 20px; border: 3px solid #5E7858; height: 36px; background: #fff url('https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/icons/search.svg') 8px center no-repeat; box-shadow: 0 2px 8px #5e785820;">
                <a href="../cadastro closet/cadastro gaveta/criar_gaveta.html">Criar nova gaveta</a>
            </div>

            <!-- Checkbox escondido -->
            <input type="checkbox" id="togglePesquisa" hidden>

            <!-- Aba de pesquisa -->
            <div class="aba-pesquisa">
                <input type="text" placeholder="Digite sua pesquisa..."> <!-- se não houver ação, esconder essa div -->
                <button>Buscar</button>
            </div>
        </div>

        <hr>

        <section class="gavetas" id="gavetasSection">
            <div id="spinner" class="spinner-container">
                <div class="spinner"></div>
            </div>    

            <!-- Card individual -->
            <div class="card" onclick="window.location.href='gavetas/gaveta.html'">
                <img src="../../img/doacaomao.png" alt="doação">
                <div class="paragrafo">
                    <p>Doação</p>
                    <p>0</p>
                </div>
            </div>

            <div class="card">
                <img src="../../img/dinheiro.png" />
                <div class="paragrafo">
                    <p>Vendas</p>
                    <p>0</p>
                </div>
            </div>
        </section>
    </div>
    <script>
        // Mostra o spinner enquanto carrega, e exibe o grid depois
        document.addEventListener('DOMContentLoaded', () => {
            const section = document.getElementById('gavetasSection');
            const spinner = document.getElementById('spinner');

            // Mostra seção em grid, mas spinner visível até os dados chegarem
            section.style.display = 'grid';

            // Simulação do tempo de carregamento do Firebase
            setTimeout(() => {
                spinner.remove(); // remove o spinner do DOM
            }, 1500);
        });
    </script>
</body>
</html>